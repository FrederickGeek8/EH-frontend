<!DOCTYPE html>
<html lang="en">
  <head>
    <title>UniHealth</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link rel="stylesheet" href="../less/main.less" />
    <link rel="stylesheet" href="../less/info.less" />
  </head>
  <body>
    <div class="modal fade" id="edit_personal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title">Edit Personal Data</h4>
          </div>
          <div class="modal-body">
            <p>
              <label for="new_name">Name: </label>
              <input
                type="text"
                class="form-control"
                name="new_name"
                id="new_name"
              />
            </p>
            <p>
              <label for="new_email">Email: </label>
              <input
                type="email"
                class="form-control"
                name="new_email"
                id="new_email"
              />
            </p>
            <p>
              <label for="new_avatar">Avatar: </label>
              <input
                type="url"
                name="new_avatar"
                id="new_avatar"
                class="form-control"
              />
            </p>
            <p>
              <label for="new_gender">Gender: </label>
              <input
                type="text"
                class="form-control"
                name="new_gender"
                id="new_gender"
              />
            </p>
            <p>
              <label for="new_age">Age: </label>
              <input
                type="text"
                class="form-control"
                name="new_age"
                id="new_age"
              />
            </p>
            <p>
              <label for="new_addr">Address: </label>
              <input
                type="text"
                class="form-control"
                name="new_addr"
                id="new_addr"
              />
            </p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">
              Close
            </button>
            <button type="button" class="btn btn-primary" id="save_data">
              Save changes
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="send_message" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title">Send a Message</h4>
          </div>
          <div class="modal-body">
            <textarea
              name="message"
              id="message"
              cols="30"
              rows="10"
              class="form-control"
            ></textarea>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">
              Close
            </button>
            <button type="button" class="btn btn-primary" id="send_btn">
              Send Message
            </button>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal fade"
      id="myModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="myModalLabel"
    >
      <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="myModalLabel">Patient Data Request</h4>
          </div>
          <div class="modal-body">
            <a href="/search.html">Search for a Patient's Phone Number -></a>
            <br /><br />
            <div class="form-group">
              <label class="sr-only" for="inputPhone">Phone Number</label>
              <input
                type="tel"
                class="form-control"
                id="inputPhone"
                placeholder="Phone Number"
              />
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">
              Close
            </button>
            <button
              type="button"
              class="btn btn-primary"
              data-dismiss="modal"
              id="retrieve_data"
            >
              Retrieve
            </button>
          </div>
        </div>
      </div>
    </div>
    <nav class="navbar navbar-default navbar-inverse">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">
          <img alt="Brand" src="../img/fulllogo.png" height="50" />
        </a>
      </div>
      <div class="navbar-header pull-right">
        <a href="#" class="navbar-text" id="logoutButton">Logout</a>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center">
          <img
            src="../img/user.png"
            alt="Doctor Icon"
            class="img-circle"
            id="avatar"
            width="250"
            height="250"
          />
          <h1 id="name">Conan Desmond</h1>
          <h5 class="text-muted">Doctor</h5>
          <div id="personal-container"></div>
          <button
            type="button"
            class="btn btn-warning"
            data-toggle="modal"
            data-target="#edit_personal"
          >
            <span class="glyphicon glyphicon-pencil"></span> Edit
          </button>
          <script id="personal-template" type="text/x-handlebars-template">
            <p><b>Email:</b> {{email}}</p>
            <p><b>Gender:</b> {{gender}}</p>
            <p><b>Address:</b> {{address}}</p>
            <p><b>Age:</b> {{age}}</p>
          </script>
          <br />
          <h2>Currently Viewing</h2>
          <h5 id="patient-name">Nobody</h5>
          <br />
          <a
            class="btn btn-primary btn-lg"
            data-toggle="modal"
            data-target="#myModal"
            >Retrieve Patient Data</a
          >
          <br />
          <br />
        </div>
        <div class="col-md-8">
          <ul class="nav nav-tabs" role="tablist">
            <li class="active">
              <a href="#personal" role="tab" data-toggle="tab">
                Personal Data
              </a>
            </li>
            <li>
              <a href="#biometric" role="tab" data-toggle="tab">
                Logs
              </a>
            </li>
            <li>
              <a href="#illness" role="tab" data-toggle="tab">
                Illnesses
              </a>
            </li>
            <li>
              <a href="#medication" role="tab" data-toggle="tab">
                Medications
              </a>
            </li>
          </ul>

          <!-- Tab panes -->
          <div class="tab-content">
            <div class="tab-pane fade active in" id="personal">
              <div id="patient-container">No patient selected.</div>
              <script id="patient-template" type="text/x-handlebars-template">
                <p><b>Name:</b> {{name}}</p>
                <p><b>Email:</b> {{email}}</p>
                <p><b>Gender:</b> {{gender}}</p>
                <p><b>Address:</b> {{address}}</p>
                <p><b>Age:</b> {{age}}</p>
                <button
                  type="button"
                  class="btn btn-warning"
                  data-toggle="modal"
                  data-target="#send_message"
                >Message</button>
              </script>
            </div>
            <div class="tab-pane fade" id="biometric">
              <div id="patient-logs">No patient selected.</div>
              <script id="logs-template" type="text/x-handlebars-template">
                {{#each data}}
                <div class="log">
                  <h4>{{this.title}} - {{this.date}}</h4>
                  <p>{{this.content}}</p>
                  <p>Symptoms:</p>
                  <ul>
                    {{#each this.data}}
                      <li>{{@key}}: {{this}}</li>
                    {{/each}}
                  </ul>
                </div>
                {{/each}}
              </script>
            </div>
            <div class="tab-pane fade" id="illness">
              <div
                class="panel-group accordion"
                id="ill-accordion"
                role="tablist"
                aria-multiselectable="true"
              >
                <div class="panel panel-default">
                  <div class="panel-heading" role="tab" id="headingTwo">
                    <h4 class="panel-title">
                      <a
                        role="button"
                        data-toggle="collapse"
                        data-parent="#ill-accordion"
                        href="#add_ill"
                        aria-expanded="true"
                        aria-controls="add_ill"
                      >
                        Add Diagnosis
                      </a>
                    </h4>
                  </div>

                  <div
                    id="add_ill"
                    class="panel-collapse collapse"
                    role="tabpanel"
                    aria-labelledby="headingTwo"
                  >
                    <div class="panel-body">
                      <p>
                        <label for="ill-title">Title</label>
                        <input
                          type="text"
                          class="form-control"
                          name="ill-title"
                          id="ill-title"
                        />
                      </p>
                      <p>
                        <label for="ill-date">Date: </label>
                        <input
                          type="date"
                          class="form-control"
                          name="ill-date"
                          id="ill-date"
                        />
                      </p>
                      <p>
                        <label for="ill-desc">Description: </label>
                        <br />
                        <textarea
                          name="ill-desc"
                          id="ill-desc"
                          cols="30"
                          rows="10"
                          class="form-control"
                        ></textarea>
                      </p>
                      <br />
                      <div class="form-inline">
                        <div class="form-group">
                          <label for="ill-dis1">Disease: </label>
                          <input
                            type="text"
                            name="ill-dis1"
                            class="form-control"
                            id="ill-dis1"
                          />
                        </div>
                        <div class="form-group">
                          <label> &nbsp; </label>
                        </div>
                        <div class="form-group">
                          <label for="ill-dis1_data">Details: </label>
                          <input
                            type="text"
                            class="form-control"
                            name="ill-dis1_data"
                            id="ill-dis1_data"
                          />
                        </div>
                      </div>
                      <br />
                      <div class="form-inline">
                        <div class="form-group">
                          <label for="ill-dis2">Disease: </label>
                          <input
                            type="text"
                            name="ill-dis2"
                            class="form-control"
                            id="ill-dis2"
                          />
                        </div>
                        <div class="form-group">
                          <label> &nbsp; </label>
                        </div>
                        <div class="form-group">
                          <label for="ill-dis2_data">Details: </label>
                          <input
                            type="text"
                            class="form-control"
                            name="ill-dis2_data"
                            id="ill-dis2_data"
                          />
                        </div>
                      </div>
                      <br />
                      <div class="form-inline">
                        <div class="form-group">
                          <label for="ill-dis3">Disease: </label>
                          <input
                            type="text"
                            name="ill-dis3"
                            class="form-control"
                            id="ill-dis3"
                          />
                        </div>
                        <div class="form-group">
                          <label> &nbsp; </label>
                        </div>
                        <div class="form-group">
                          <label for="ill-dis3_data">Details: </label>
                          <input
                            type="text"
                            class="form-control"
                            name="ill-dis3_data"
                            id="ill-dis3_data"
                          />
                        </div>
                      </div>
                      <br />
                      <p>
                        <button class="form-control" id="add_ill_btn">
                          Add Diagnosis
                        </button>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div id="patient-ill">No patient selected.</div>
              <script id="ill-template" type="text/x-handlebars-template">
                {{#each data}}
                <div class="log">
                  <h4>{{this.title}} - {{this.date}}</h4>
                  <h5>Added by <a href="tel:{{this.doctor_phone}}">{{this.doctor_name}}</a></h5>
                  <p>{{this.content}}</p>
                  <p>Details:</p>
                  <ul>
                    {{#each this.data}}
                      <li>{{@key}}: {{this}}</li>
                    {{/each}}
                  </ul>
                </div>
                {{/each}}
              </script>
            </div>
            <div class="tab-pane fade" id="medication">
              <div
                class="panel-group accordion"
                id="med-accordion"
                role="tablist"
                aria-multiselectable="true"
              >
                <div class="panel panel-default">
                  <div class="panel-heading" role="tab" id="headingOne">
                    <h4 class="panel-title">
                      <a
                        role="button"
                        data-toggle="collapse"
                        data-parent="#med-accordion"
                        href="#add_meds"
                        aria-expanded="true"
                        aria-controls="add_meds"
                      >
                        Add Medication
                      </a>
                    </h4>
                  </div>

                  <div
                    id="add_meds"
                    class="panel-collapse collapse"
                    role="tabpanel"
                    aria-labelledby="headingOne"
                  >
                    <div class="panel-body">
                      <p>
                        <label for="med-name">Medication Name</label>
                        <input
                          type="text"
                          class="form-control"
                          name="med-name"
                          id="med-name"
                        />
                      </p>
                      <p>
                        <label for="med-desc">Description</label>
                        <br />
                        <textarea
                          name="med-desc"
                          id="med-desc"
                          cols="30"
                          rows="10"
                          class="form-control"
                        ></textarea>
                      </p>
                      <p>
                        <label for="start-date">Start Date</label>
                        <input
                          type="date"
                          class="form-control"
                          name="start-date"
                          id="start-date"
                        />
                      </p>
                      <p>
                        <label for="end-date">End Date</label>
                        <input
                          type="date"
                          class="form-control"
                          name="end-date"
                          id="end-date"
                        />
                      </p>
                      <p>
                        <label for="med-time-1">Time Taken #1</label>
                        <input
                          type="time"
                          class="form-control"
                          name="med-time-1"
                          id="med-time-1"
                        />
                      </p>
                      <p>
                        <label for="med-time-2">Time Taken #2</label>
                        <input
                          type="time"
                          class="form-control"
                          name="med-time-2"
                          id="med-time-2"
                        />
                      </p>
                      <p>
                        <label for="med-time-3">Time Taken #2</label>
                        <input
                          type="time"
                          class="form-control"
                          name="med-time-3"
                          id="med-time-3"
                        />
                      </p>
                      <p>
                        <button class="form-control" id="add_med">
                          Add Medicine
                        </button>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div id="patient-meds">No patient selected.</div>
              <script id="med-template" type="text/x-handlebars-template">
                {{#each data}}
                <div class="med">
                  <h4>{{this.name}}</h4>
                  <h5>Dates Taken: {{this.start_time}} - {{this.end_time}}</h5>
                  <b>Times</b>
                  <ul>
                  {{#each this.times}}
                    <li>{{this}}</li>
                  {{/each}}
                  </ul>
                  <p>{{this.description}}</p>
                </div>
                {{/each}}
              </script>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="../node_modules/jquery/dist/jquery.js"></script>
    <script src="../js/jpatch.js"></script>
    <script src="../js/doctor.js"></script>
    <script src="../node_modules/popper.js/dist/umd/popper.js"></script>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.js"></script>
  </body>
</html>
